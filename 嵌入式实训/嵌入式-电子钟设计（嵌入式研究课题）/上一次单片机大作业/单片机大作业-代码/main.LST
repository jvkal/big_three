C51 COMPILER V9.57.0.0   MAIN                                                              06/04/2019 15:28:27 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: F:\Keil_v5\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "config.h"
   2          #include <reg52.h>
   3          sbit act = P3^2;
   4          //初始化信息
   5          void init_sys(void)
   6          {           
   7   1              int i =0;
   8   1              //TMOD是定时器0和1的8位寄存器，0X01是指定时器0设置为1工作方式   
   9   1              TMOD=0x01;
  10   1              //5000表示需要定时器定时一次需要计数的个数，晶振为12M时程序在这里大约延时50毫秒
  11   1              //商存入高8位寄存器后余下的数存入低8位即可
  12   1              TH0=(65536-50000)/256; //50ms
  13   1              TL0=(65536-50000)%256;
  14   1              //CPU开启中断                                                           
  15   1          EA=1;ET0=1; 
  16   1              //定时中断0的优先度置为1
  17   1              PT0=1;
  18   1              //启动定时器0                                                                                           
  19   1          TR0=1;
  20   1              spk_deep_init();
  21   1      }
  22          
  23          void main()
  24          {
  25   1              LCD_Initial();                                           //lcd显示器初始化
  26   1              init_sys();
  27   1              act=1;                                                   //硬件系统初始化
  28   1              setpsw();
  29   1              act=0;                                                   //密码设置
  30   1              while(1)
  31   1              {               
  32   2                      time=3;                                                    //限定尝试3次
  33   2                      while(1)                                           
  34   2                      {
  35   3                              inputpsw();                                                     //输入密码
  36   3                              checkpsw();                                                     //密码验证
  37   3                              checksuper();                                           //验证是否是超级密码                                            
  38   3                              if(error_flag==0)       
  39   3                              {
  40   4                                      right();                //正确处理
  41   4                                      act=0;
  42   4                                      modify_psw();   //询问是否修改密码
  43   4                                      close();                //关闭程序
  44   4                                      act=1;
  45   4                                      break;
  46   4                              }
  47   3                              else if(time>1)
  48   3                              {
  49   4                                      error();                //允许2次尝试错误
  50   4                              }               
  51   3                              else                            
  52   3                              {
  53   4                                      lock();
  54   4                                      break;   //3次错误,系统锁定
  55   4                              }       
C51 COMPILER V9.57.0.0   MAIN                                                              06/04/2019 15:28:27 PAGE 2   

  56   3                      }
  57   2      
  58   2              }
  59   1      }
*** WARNING C291 IN LINE 67 OF main.c: not every exit path returns a value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1444    ----
   CONSTANT SIZE    =    120    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     22      11
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
